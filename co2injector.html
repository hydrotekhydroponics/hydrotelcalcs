<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Hydrotek Hydroponics Calculators
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!-- CSS Files -->
  <link href="./assets/css/material-dashboard.css?v=2.1.1" rel="stylesheet" />
  <style>
    .slider {
      -webkit-appearance: none;
      width: 100%;
      height: 25px;
      background: #d3d3d3;
      outline: none;
      /*opacity: 0.7;*/
      -webkit-transition: .2s;
      transition: opacity .2s;
    }

    .slider:hover {
      opacity: 1;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 25px;
      height: 25px;
      background: #4CAF50;
      cursor: pointer;
    }

    .slider::-moz-range-thumb {
      width: 25px;
      height: 25px;
      background: #4CAF50;
      cursor: pointer;
    }

    .top-scroller {
      position: fixed;
      bottom: 50px;
      right: 10px;
      font-size: 1em;
      display: none;
      z-index: 2;
      text-align: center;
      cursor: pointer;
      height: 40px;
      width: 40px;
      border-radius: 50%;
      background: rgba(0,0,0,.35);
      color: #fff;
      line-height: 40px;

    }
    .top-scroller:hover {
      background: rgba(0,0,0,.6);
    }
  </style>
</head>
<body>
<div class="wrapper">
  <div class="sidebar" data-color="purple" data-background-color="white" data-image="./assets/img/sidebar-1.jpg">
    <div class="logo text-center">
      <a style="font-size: 11pt;" class="simple-text logo-normal">
        Changer la Langue
      </a>
      <a href="fr/co2injector.html"><img src="./assets/img/icons8-france-48.png"></a>
    </div>
    <div class="sidebar-wrapper">
      <ul class="nav">
        <li class="nav-item active  ">
          <a class="nav-link text-center" href="./index.html">
            <p>All Calculators</p>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./reservoir.html">
            <img src="assets/img/icons8-water-tower-30.png"><span> Reservoir Volume</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./co2operating.html">
            <img src="assets/img/icons8-time-30.png"><span> CO2 Operating Time</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./co2generator.html">
            <img src="assets/img/icons8-co2-gauge-30.png"><span> CO2 Generator Time</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./co2injector.html">
            <img src="assets/img/icons8-scuba-pressure-gauge-30.png"><span> CO2 Injector Time</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./dehumidifier.html">
            <img src="assets/img/icons8-dew-point-30.png"><span> Dehumidifier Sizing</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./aircfm.html">
            <img src="assets/img/icons8-air-quality-30.png"><span> Air Exchange CFM</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./cultureroom.html">
            <img src="assets/img/icons8-room-30.png"><span> Culture Room Area</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./lightfixtures.html">
            <img src="assets/img/icons8-idea-30.png"><span> Light Fixtures Coverage</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./watt2btu.html">
            <img src="assets/img/icons8-lightning-bolt-30.png"><span> Watt to BTU/hr Converter</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./circuitload.html">
            <img src="assets/img/icons8-integrated-circuit-30.png"><span> Circuit Load Capacity</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./electricitycost.html">
            <img src="assets/img/icons8-estimate-30.png"><span> Electricity Cost</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./soil.html">
            <img src="assets/img/icons8-sprout-30.png"><span> Soil Calculator</span>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="./support.html">
            <img src="assets/img/contact.png"><span> Support / Feedback</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="text-center">
    <img class="img-fluid" style="max-width: 80%; margin-top: 20px;" src="assets/img/hydro-logo.png">
  </div>
  <div class="main-panel">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
      <div class="container-fluid">

        <div class="navbar-wrapper">
          <!--            <a class="navbar-brand" href="#pablo">HH Calculators</a>-->

          <!--            <div class="row text-center">-->
          <!--              <img class="img-container" src="assets/img/hydro-logo.png">-->
          <!--            </div>-->
        </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="navbar-toggler-icon icon-bar"></span>
          <span class="navbar-toggler-icon icon-bar"></span>
          <span class="navbar-toggler-icon icon-bar"></span>
        </button>
      </div>
    </nav>
    <!-- End Navbar -->
    <div class="content">
      <div class="container-fluid">

        <div class="row">
          <div class="col-12">
            <div class="card card-chart">
              <div id="arrowDiv" data-toggle="collapse" href="#collapseInfo" role="button" aria-expanded="false" aria-controls="collapseInfo" class="card-header card-header-warning" onclick="changeArrow()">
                <div class="ct-chart"></div>
                <span><strong>CO2 Injector Time Calculator</strong><img id="arrowImg" class="float-right" src="assets/img/arrow-199-24.ico"></span>
              </div>
              <div class="card-footer">
                <div class="collapse" id="collapseInfo">
                  <p>Find your optimal CO2 injection time to have the best result with your indoor garden.</p>
                  <p>Fill in your room size, desired ppm level, and flowmeter cubic foot per hour adjustment to get your optimal injection time. Keep in mind that the average level of CO2 in the air is around 300 PPM.</p>
                  <p>*Enter the size in feet or meters.</p>
                  <p>**Ambient CO2 level of 300 ppm assumed.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <form class="calcfrm" lpformnum="1">
          <div class="row">
            <div class="col-12">
              <div class="form-group">
                <label><strong>Measurement unit:</strong></label>
                <select style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1em;" class="form-control" id="roomUnit" onchange="unitChangerCalc()">
                  <!-- getInjectorTime() -->
                  <option value="ft">Feet</option>
                  <option value="m">Meters</option>
                </select>
              </div>
            </div>

            <div class="col-md-12">
              <div class="form-group">
                <label><strong>Room size in</strong> <span style="font-weight:bold; color: #1b5e20;" class="m2p2">feet</span><span style="font-weight:bold; color: #1b5e20;">:</span></label>
              </div>
            </div>

          </div>

          <div class="row">
            <div class="col-sm-12 col-md-12">
              <div>
                <label for="roomWidth"><strong>Width:</strong></label>
                <input class="form-control" style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1em; " oninput="getInjectorTime()" id="roomWidth" type="number" max="10000" min="3" value="8" />
              </div>
            </div>
            <div class="col-sm-12 col-md-12">
              <div>
                <label for="roomLength"><strong>Length:</strong></label>
                <input class="form-control" style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1em;" oninput="getInjectorTime()" id="roomLength" type="number" max="10000" min="3" value="8" />
              </div>
            </div>
            <div class="col-sm-12 col-md-12">
              <div>
                <label for="roomHeight"><strong>Height:</strong></label>
                <input class="form-control" style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1em;" oninput="getInjectorTime()" id="roomHeight" type="number" max="10000" min="3" value="8" />
              </div>
            </div>
          </div>

          <div style="padding-top: 30px;" class="row">
            <div class="col-3 col-md-2">
              <span style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1.2em;">Volume:</span>
            </div>
            <div style="width:fit-content;">
              <input style="width: unset; background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1em;" id="roomLengthTotalSize" type="button">
            </div>
            <div class="col-4" style="padding-left: 0;">
              <span style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1em;" class="m2p2Ft">ft</span><sup style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 0.8em;">3</sup>
            </div>
          </div>

          <div style="padding-top: 30px;" class="row">
            <div class="col-12">
              <label style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1em;" for="ppm"><strong><span id="ppmValue">1200</span></strong> PPM</label>
              <input class="slider" style="width: 100%; max-width: 100%;" oninput="getInjectorTime()" id="ppm" type="range" max="1600" min="100" step="20" value="1200" />
            </div>
          </div>
          <div class="row">
            <div style="padding-top: 10px;" class="col-sm-12 col-md-12">
              <label for="flowmeterSetting"><strong>Flowmeter setting:</strong> <small style="font-size: 80%"><em>(Cubic foot per hour)</em></small></label>
            </div>
            <div class="col-12">
              <select style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1em;" class="form-control" onchange="getInjectorTime()" id="flowmeterSetting">
                <!-- getInjectorTime() -->
                <option value="0.5">0.5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5" selected>5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
              </select>
            </div>
            <div style="padding-top: 15px; padding-bottom: 15px;" class="col-12">
              <div id="freezAlert" class="btn-danger btn-large text-center" style="font-size: 10pt; display: none;">At this rate, your CO<sub>2</sub> regulator might freeze-up.</div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12 col-md-6" style="padding-bottom: 10px; padding-top: 10px;">
              <label style="background-color: #EEEEEE; border: none; font-weight:bold; color: #1b5e20; font-size: 1.2em;">At current flowmeter setting:</label>
            </div>
          </div>

          <div class="container">
            <div class="row">
              <div class="col-xs-6">
                <label style="background-color: #EEEEEE; border: none; color: #1b5e20; font-size: 1em;" for="minFullRep"><span>Minutes for full replenish:</span></label>
              </div>
              <div class="col-">
                <input style="background-color: #EEEEEE; border: none; color: #1b5e20; font-size: 1em;" class="reponses grep" id="minFullRep" name="minFullRep" type="button" value="" />
              </div>
            </div>

            <div class="row">
              <div class="col-xs-6">
                <label for="minToRun" style="background-color: #EEEEEE; border: none; color: #1b5e20; font-size: 1em;"><span>Minutes per hour:</span></label>
              </div>
              <div class="col-">
                <input style="background-color: #EEEEEE; border: none; color: #1b5e20; font-size: 1em;" class="reponses grep" id="minToRun" name="minToRun" type="button" value="" />
              </div>
            </div>

            <div class="row">
              <div class="col-sm-12 col-md-6">
                <p id="flowAlert" class="text-error text-center btn-big" style="display: none; font-weight: normal; line-height: 2rem; background: yellow; margin-top: 20px;">Flow exceeds the capacity of the valve</p>
              </div>
            </div>
          </div>
        </form>
        <button class="btn btn-warning col-12 mt-4" onClick="window.location.reload();">Reset</button>
      </div>
    </div>
  </div>
</div>

<!--   Core JS Files   -->
<script src="./assets/js/core/jquery.min.js"></script>
<script src="./assets/js/core/popper.min.js"></script>
<script src="./assets/js/core/bootstrap-material-design.min.js"></script>
<!--<script src="./assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>-->
<script src="./assets/js/material-dashboard.js?v=2.1.1" type="text/javascript"></script>
<script>
  // Changes arrow direction

  function changeArrow() {

    var arrowDiv = $('#arrowDiv');
    var arrowImg = $('#arrowImg');

    if (arrowDiv.attr('aria-expanded') === 'false') {
      arrowImg.attr("src", "assets/img/arrow-137-24.ico");
    } else {
      arrowImg.attr("src", "assets/img/arrow-199-24.ico");
    }
  }
</script>

<script language="javascript" async defer>
  var globalUnit = 'ft';

  $(function() {
    unitChangerCalc();
  });

  function maxNum(field, unit) {
    var value = Number(field.value, 10),
            max = Number(field.max, 10),
            min = Number(field.min, 10);
    if (value > max) {
      field.value = max;
      value = max;
    } else if (value < min && unit !== 'm') {
      field.value = min;
      value = min;
    }
    return value;
  }

  // The power P in BTUs per hour (BTU/hr) is equal to 3.412141633 times the power P in watts (W):
  function getInjectorTime() {
    var roomUnit = document.getElementById("roomUnit").value,
            ppm = Number(document.getElementById("ppm").value / 1000000),
            ppmValue = document.getElementById("ppmValue"),
            flowmeterSetting = Number(document.getElementById("flowmeterSetting").value),
            ow = document.getElementById("roomWidth"),
            ol = document.getElementById("roomLength"),
            ot = document.getElementById("roomHeight"),
            oTotals = document.getElementById("roomLengthTotalSize"),
            minFullRep = document.getElementById("minFullRep"),
            minToRun = document.getElementById("minToRun"),
            freezAlert = document.getElementById("freezAlert"),
            flowAlert = document.getElementById("flowAlert"),
            w = maxNum(ow, roomUnit),
            l = maxNum(ol, roomUnit),
            t = maxNum(ot, roomUnit),
            volume,
            clacA = ppm / flowmeterSetting,
            calcB,
            minRelenish,
            perHour;

    ppmValue.innerHTML = ppm * 1000000;

    if (flowmeterSetting > 14) {
      freezAlert.style.display = "block";
    } else {
      freezAlert.style.display = "none";
    }

    /*

    min size of trays =     36 in by 36 in
                            3 ft by 3 ft
                            0,9144 m by 0,9144 m

    ft to m =
    m to ft =

    36 pouces = 0.9144018288036576 M
    36 pouces = 3 FT

    1 mètre = 3.2808 pieds
    1 pieds a metre = pieds / 3.281;
    1 metre a pieds = metre * 3.281;
    1 pieds a pouces = pieds / 12;
    1 pouces a pieds = pouces * 12;

    1 metre = 30w * 3.2808
    1 metre = 50w * 3.2808

    1 pied = 0.3048 mètre
    mininum 1 pied = 30W
    optimal 1 pied = 50W

    */

    // replace feet by meters or inches in the calculator
    var elm2p2 = document.getElementsByClassName("m2p2"),
            elTotalm2p2 = document.getElementsByClassName("m2p2Ft");

    for (var i = 0, length = elm2p2.length; i < length; i++) {
      if (i === 0 && roomUnit === 'm') {
        elm2p2[i].innerHTML = 'meter';
      } else if (i === 0 && roomUnit === 'ft') {
        elm2p2[i].innerHTML = 'feet';
      } else {
        elm2p2[i].innerHTML = roomUnit;
      }
    }

    if (roomUnit !== 'in') {
      for (var i = 0, length = elTotalm2p2.length; i < length; i++) {
        elTotalm2p2[i].innerHTML = roomUnit;
      }
    }

    if (roomUnit === 'm') {
      volume = (w * l * t).toFixed(3);
      volumeM = (Math.round(w * 3.281) * Math.round(l * 3.281) * Math.round(l * 3.281)).toFixed(3);
      calcB = clacA * volumeM; // B
    } else {
      volume = w * l * t;
      calcB = clacA * volume; // B
    }

    oTotals.value = volume;

    minRelenish = calcB * 60; //C
    perHour = minRelenish / 3; // END

    minFullRep.value = minRelenish.toFixed(2);
    minToRun.value = perHour.toFixed(2);

    if (minToRun.value > 60) {
      flowAlert.style.display = "block";
    } else {
      flowAlert.style.display = "none";
    }

    return false;
  }

  // =======================================================================
  //              unit changing calc
  // =======================================================================
  function unitChangerCalc() {
    var unit = document.getElementById("roomUnit").value,
            N1 = document.getElementById("roomWidth"),
            N2 = document.getElementById("roomLength"),
            N3 = document.getElementById("roomHeight"),
            m1 = Number(N1.value, 10),
            m2 = Number(N2.value, 10),
            m3 = Number(N3.value, 10);

    // console.log( 'globalUnit', globalUnit, 'to ', unit );

    if (unit === 'm' && globalUnit === 'ft') { // feet to meters
      N1.value = (m1 / 3.281).toFixed(3);
      N2.value = (m2 / 3.281).toFixed(3);
      N3.value = (m3 / 3.281).toFixed(3);
    } else if (unit === 'ft' && globalUnit === 'm') { // meters to feet
      N1.value = Math.round(m1 * 3.281);
      N2.value = Math.round(m2 * 3.281);
      N3.value = Math.round(m3 * 3.281);
    }
    globalUnit = unit;
    getInjectorTime();
  }
</script>
<div class="top-scroller">
  <img src="assets/img/arrow-137-24.ico">
</div>
<script>
  $(window).scroll(function(){
    if ($(this).scrollTop() > 100) {
      $('.top-scroller').fadeIn();
    } else {
      $('.top-scroller').fadeOut();
    }
  });
  //Click event to scroll to top
  $('.top-scroller').click(function(){
    $('html, body').animate({scrollTop : 0},1000);
    return false;
  });
</script>
</body>
</html>